(()=>{var t={627:t=>{t.exports=function(t,e,r){return e<r?t<e?e:t>r?r:t:t<r?r:t>e?e:t}},168:(t,e,r)=>{const n=r(874),o={};for(const t of Object.keys(n))o[n[t]]=t;const i={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};t.exports=i;for(const t of Object.keys(i)){if(!("channels"in i[t]))throw new Error("missing channels property: "+t);if(!("labels"in i[t]))throw new Error("missing channel labels property: "+t);if(i[t].labels.length!==i[t].channels)throw new Error("channel and label counts mismatch: "+t);const{channels:e,labels:r}=i[t];delete i[t].channels,delete i[t].labels,Object.defineProperty(i[t],"channels",{value:e}),Object.defineProperty(i[t],"labels",{value:r})}i.rgb.hsl=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,o=Math.min(e,r,n),i=Math.max(e,r,n),l=i-o;let s,a;i===o?s=0:e===i?s=(r-n)/l:r===i?s=2+(n-e)/l:n===i&&(s=4+(e-r)/l),s=Math.min(60*s,360),s<0&&(s+=360);const h=(o+i)/2;return a=i===o?0:h<=.5?l/(i+o):l/(2-i-o),[s,100*a,100*h]},i.rgb.hsv=function(t){let e,r,n,o,i;const l=t[0]/255,s=t[1]/255,a=t[2]/255,h=Math.max(l,s,a),c=h-Math.min(l,s,a),u=function(t){return(h-t)/6/c+.5};return 0===c?(o=0,i=0):(i=c/h,e=u(l),r=u(s),n=u(a),l===h?o=n-r:s===h?o=1/3+e-n:a===h&&(o=2/3+r-e),o<0?o+=1:o>1&&(o-=1)),[360*o,100*i,100*h]},i.rgb.hwb=function(t){const e=t[0],r=t[1];let n=t[2];const o=i.rgb.hsl(t)[0],l=1/255*Math.min(e,Math.min(r,n));return n=1-1/255*Math.max(e,Math.max(r,n)),[o,100*l,100*n]},i.rgb.cmyk=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,o=Math.min(1-e,1-r,1-n);return[100*((1-e-o)/(1-o)||0),100*((1-r-o)/(1-o)||0),100*((1-n-o)/(1-o)||0),100*o]},i.rgb.keyword=function(t){const e=o[t];if(e)return e;let r,i=1/0;for(const e of Object.keys(n)){const o=(s=n[e],((l=t)[0]-s[0])**2+(l[1]-s[1])**2+(l[2]-s[2])**2);o<i&&(i=o,r=e)}var l,s;return r},i.keyword.rgb=function(t){return n[t]},i.rgb.xyz=function(t){let e=t[0]/255,r=t[1]/255,n=t[2]/255;return e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,[100*(.4124*e+.3576*r+.1805*n),100*(.2126*e+.7152*r+.0722*n),100*(.0193*e+.1192*r+.9505*n)]},i.rgb.lab=function(t){const e=i.rgb.xyz(t);let r=e[0],n=e[1],o=e[2];return r/=95.047,n/=100,o/=108.883,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,o=o>.008856?o**(1/3):7.787*o+16/116,[116*n-16,500*(r-n),200*(n-o)]},i.hsl.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;let o,i,l;if(0===r)return l=255*n,[l,l,l];o=n<.5?n*(1+r):n+r-n*r;const s=2*n-o,a=[0,0,0];for(let t=0;t<3;t++)i=e+1/3*-(t-1),i<0&&i++,i>1&&i--,l=6*i<1?s+6*(o-s)*i:2*i<1?o:3*i<2?s+(o-s)*(2/3-i)*6:s,a[t]=255*l;return a},i.hsl.hsv=function(t){const e=t[0];let r=t[1]/100,n=t[2]/100,o=r;const i=Math.max(n,.01);return n*=2,r*=n<=1?n:2-n,o*=i<=1?i:2-i,[e,100*(0===n?2*o/(i+o):2*r/(n+r)),(n+r)/2*100]},i.hsv.rgb=function(t){const e=t[0]/60,r=t[1]/100;let n=t[2]/100;const o=Math.floor(e)%6,i=e-Math.floor(e),l=255*n*(1-r),s=255*n*(1-r*i),a=255*n*(1-r*(1-i));switch(n*=255,o){case 0:return[n,a,l];case 1:return[s,n,l];case 2:return[l,n,a];case 3:return[l,s,n];case 4:return[a,l,n];case 5:return[n,l,s]}},i.hsv.hsl=function(t){const e=t[0],r=t[1]/100,n=t[2]/100,o=Math.max(n,.01);let i,l;l=(2-r)*n;const s=(2-r)*o;return i=r*o,i/=s<=1?s:2-s,i=i||0,l/=2,[e,100*i,100*l]},i.hwb.rgb=function(t){const e=t[0]/360;let r=t[1]/100,n=t[2]/100;const o=r+n;let i;o>1&&(r/=o,n/=o);const l=Math.floor(6*e),s=1-n;i=6*e-l,0!=(1&l)&&(i=1-i);const a=r+i*(s-r);let h,c,u;switch(l){default:case 6:case 0:h=s,c=a,u=r;break;case 1:h=a,c=s,u=r;break;case 2:h=r,c=s,u=a;break;case 3:h=r,c=a,u=s;break;case 4:h=a,c=r,u=s;break;case 5:h=s,c=r,u=a}return[255*h,255*c,255*u]},i.cmyk.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100,o=t[3]/100;return[255*(1-Math.min(1,e*(1-o)+o)),255*(1-Math.min(1,r*(1-o)+o)),255*(1-Math.min(1,n*(1-o)+o))]},i.xyz.rgb=function(t){const e=t[0]/100,r=t[1]/100,n=t[2]/100;let o,i,l;return o=3.2406*e+-1.5372*r+-.4986*n,i=-.9689*e+1.8758*r+.0415*n,l=.0557*e+-.204*r+1.057*n,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,l=l>.0031308?1.055*l**(1/2.4)-.055:12.92*l,o=Math.min(Math.max(0,o),1),i=Math.min(Math.max(0,i),1),l=Math.min(Math.max(0,l),1),[255*o,255*i,255*l]},i.xyz.lab=function(t){let e=t[0],r=t[1],n=t[2];return e/=95.047,r/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,[116*r-16,500*(e-r),200*(r-n)]},i.lab.xyz=function(t){let e,r,n;r=(t[0]+16)/116,e=t[1]/500+r,n=r-t[2]/200;const o=r**3,i=e**3,l=n**3;return r=o>.008856?o:(r-16/116)/7.787,e=i>.008856?i:(e-16/116)/7.787,n=l>.008856?l:(n-16/116)/7.787,e*=95.047,r*=100,n*=108.883,[e,r,n]},i.lab.lch=function(t){const e=t[0],r=t[1],n=t[2];let o;return o=360*Math.atan2(n,r)/2/Math.PI,o<0&&(o+=360),[e,Math.sqrt(r*r+n*n),o]},i.lch.lab=function(t){const e=t[0],r=t[1],n=t[2]/360*2*Math.PI;return[e,r*Math.cos(n),r*Math.sin(n)]},i.rgb.ansi16=function(t,e=null){const[r,n,o]=t;let l=null===e?i.rgb.hsv(t)[2]:e;if(l=Math.round(l/50),0===l)return 30;let s=30+(Math.round(o/255)<<2|Math.round(n/255)<<1|Math.round(r/255));return 2===l&&(s+=60),s},i.hsv.ansi16=function(t){return i.rgb.ansi16(i.hsv.rgb(t),t[2])},i.rgb.ansi256=function(t){const e=t[0],r=t[1],n=t[2];return e===r&&r===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(r/255*5)+Math.round(n/255*5)},i.ansi16.rgb=function(t){let e=t%10;if(0===e||7===e)return t>50&&(e+=3.5),e=e/10.5*255,[e,e,e];const r=.5*(1+~~(t>50));return[(1&e)*r*255,(e>>1&1)*r*255,(e>>2&1)*r*255]},i.ansi256.rgb=function(t){if(t>=232){const e=10*(t-232)+8;return[e,e,e]}let e;return t-=16,[Math.floor(t/36)/5*255,Math.floor((e=t%36)/6)/5*255,e%6/5*255]},i.rgb.hex=function(t){const e=(((255&Math.round(t[0]))<<16)+((255&Math.round(t[1]))<<8)+(255&Math.round(t[2]))).toString(16).toUpperCase();return"000000".substring(e.length)+e},i.hex.rgb=function(t){const e=t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let r=e[0];3===e[0].length&&(r=r.split("").map((t=>t+t)).join(""));const n=parseInt(r,16);return[n>>16&255,n>>8&255,255&n]},i.rgb.hcg=function(t){const e=t[0]/255,r=t[1]/255,n=t[2]/255,o=Math.max(Math.max(e,r),n),i=Math.min(Math.min(e,r),n),l=o-i;let s,a;return s=l<1?i/(1-l):0,a=l<=0?0:o===e?(r-n)/l%6:o===r?2+(n-e)/l:4+(e-r)/l,a/=6,a%=1,[360*a,100*l,100*s]},i.hsl.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=r<.5?2*e*r:2*e*(1-r);let o=0;return n<1&&(o=(r-.5*n)/(1-n)),[t[0],100*n,100*o]},i.hsv.hcg=function(t){const e=t[1]/100,r=t[2]/100,n=e*r;let o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},i.hcg.rgb=function(t){const e=t[0]/360,r=t[1]/100,n=t[2]/100;if(0===r)return[255*n,255*n,255*n];const o=[0,0,0],i=e%1*6,l=i%1,s=1-l;let a=0;switch(Math.floor(i)){case 0:o[0]=1,o[1]=l,o[2]=0;break;case 1:o[0]=s,o[1]=1,o[2]=0;break;case 2:o[0]=0,o[1]=1,o[2]=l;break;case 3:o[0]=0,o[1]=s,o[2]=1;break;case 4:o[0]=l,o[1]=0,o[2]=1;break;default:o[0]=1,o[1]=0,o[2]=s}return a=(1-r)*n,[255*(r*o[0]+a),255*(r*o[1]+a),255*(r*o[2]+a)]},i.hcg.hsv=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);let n=0;return r>0&&(n=e/r),[t[0],100*n,100*r]},i.hcg.hsl=function(t){const e=t[1]/100,r=t[2]/100*(1-e)+.5*e;let n=0;return r>0&&r<.5?n=e/(2*r):r>=.5&&r<1&&(n=e/(2*(1-r))),[t[0],100*n,100*r]},i.hcg.hwb=function(t){const e=t[1]/100,r=e+t[2]/100*(1-e);return[t[0],100*(r-e),100*(1-r)]},i.hwb.hcg=function(t){const e=t[1]/100,r=1-t[2]/100,n=r-e;let o=0;return n<1&&(o=(r-n)/(1-n)),[t[0],100*n,100*o]},i.apple.rgb=function(t){return[t[0]/65535*255,t[1]/65535*255,t[2]/65535*255]},i.rgb.apple=function(t){return[t[0]/255*65535,t[1]/255*65535,t[2]/255*65535]},i.gray.rgb=function(t){return[t[0]/100*255,t[0]/100*255,t[0]/100*255]},i.gray.hsl=function(t){return[0,0,t[0]]},i.gray.hsv=i.gray.hsl,i.gray.hwb=function(t){return[0,100,t[0]]},i.gray.cmyk=function(t){return[0,0,0,t[0]]},i.gray.lab=function(t){return[t[0],0,0]},i.gray.hex=function(t){const e=255&Math.round(t[0]/100*255),r=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(r.length)+r},i.rgb.gray=function(t){return[(t[0]+t[1]+t[2])/3/255*100]}},85:(t,e,r)=>{const n=r(168),o=r(111),i={};Object.keys(n).forEach((t=>{i[t]={},Object.defineProperty(i[t],"channels",{value:n[t].channels}),Object.defineProperty(i[t],"labels",{value:n[t].labels});const e=o(t);Object.keys(e).forEach((r=>{const n=e[r];i[t][r]=function(t){const e=function(...e){const r=e[0];if(null==r)return r;r.length>1&&(e=r);const n=t(e);if("object"==typeof n)for(let t=n.length,e=0;e<t;e++)n[e]=Math.round(n[e]);return n};return"conversion"in t&&(e.conversion=t.conversion),e}(n),i[t][r].raw=function(t){const e=function(...e){const r=e[0];return null==r?r:(r.length>1&&(e=r),t(e))};return"conversion"in t&&(e.conversion=t.conversion),e}(n)}))})),t.exports=i},111:(t,e,r)=>{const n=r(168);function o(t,e){return function(r){return e(t(r))}}function i(t,e){const r=[e[t].parent,t];let i=n[e[t].parent][t],l=e[t].parent;for(;e[l].parent;)r.unshift(e[l].parent),i=o(n[e[l].parent][l],i),l=e[l].parent;return i.conversion=r,i}t.exports=function(t){const e=function(t){const e=function(){const t={},e=Object.keys(n);for(let r=e.length,n=0;n<r;n++)t[e[n]]={distance:-1,parent:null};return t}(),r=[t];for(e[t].distance=0;r.length;){const t=r.pop(),o=Object.keys(n[t]);for(let n=o.length,i=0;i<n;i++){const n=o[i],l=e[n];-1===l.distance&&(l.distance=e[t].distance+1,l.parent=t,r.unshift(n))}}return e}(t),r={},o=Object.keys(e);for(let t=o.length,n=0;n<t;n++){const t=o[n];null!==e[t].parent&&(r[t]=i(t,e))}return r}},874:t=>{"use strict";t.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},450:t=>{t.exports=function(t,e,r){return t*(1-r)+e*r}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}(()=>{"use strict";const t=r(85);Math.clamp=r(627),Math.lerp=r(450);class e{constructor(e){this.r=0,this.g=0,this.b=0,this.a=1,null==e&&(e={});let r="rgb255";if(null!=e.type&&e.type,"rgb255"==e.type)this.r=Math.clamp(e.r/255,0,1),this.g=Math.clamp(e.g/255,0,1),this.b=Math.clamp(e.b/255,0,1),null!=e.a?this.a=Math.clamp(e.a/255,0,1):this.a=1;else if("rgb01"==e.type)this.r=Math.clamp(e.r,0,1),this.g=Math.clamp(e.g,0,1),this.b=Math.clamp(e.b,0,1),null!=e.a?this.a=Math.clamp(e.a,0,1):this.a=1;else if("hex"==e.type){let r=t.hex.rgb(e.hex);this.r=r[0]/255,this.g=r[1]/255,this.b=r[2]/255}else if("hsv"==e.type){let r=t.hsv.rgb([e.h,e.s,e.v]);this.r=r[0]/255,this.g=r[1]/255,this.b=r[2]/255}else if("hsl"==e.type){let r=t.hsl.rgb([e.h,e.s,e.l]);this.r=r[0]/255,this.g=r[1]/255,this.b=r[2]/255}else if("lch"==e.type){let r=t.lch.rgb([e.l,e.c,e.h]);this.r=r[0]/255,this.g=r[1]/255,this.b=r[2]/255}Object.freeze(this)}getRGB255(){return[Math.clamp(Math.floor(256*this.r),0,255),Math.clamp(Math.floor(256*this.g),0,255),Math.clamp(Math.floor(256*this.b),0,255),Math.clamp(Math.floor(256*this.a),0,255)]}getRGB01(){return[this.r,this.g,this.b,this.a]}getHex(){return t.rgb.hex(...this.getRGB255())}getHSV(){return t.rgb.hsv(...this.getRGB255())}getHSL(){return t.rgb.hsl(...this.getRGB255())}getLCH(){return t.rgb.lch(...this.getRGB255())}toCSS(){return`rgba(${this.getRGB255().join(", ")})`}static fromRGB255Array(t){return new e({type:"rgb255",r:t[0],g:t[1],b:t[2]})}static lerp(t,r,n,o="rgb"){if("rgb"===o)return new e({type:"rgb01",r:Math.lerp(t.r,r.r,n),g:Math.lerp(t.g,r.g,n),b:Math.lerp(t.b,r.b,n),a:Math.lerp(t.a,r.a,n)});if("hsv"===o){let o=t.getHSV(),i=r.getHSV();return new e({type:"hsv",h:Math.lerp(o[0],i[0],n),s:Math.lerp(o[1],i[1],n),v:Math.lerp(o[2],i[2],n)})}if("hsl"===o){const o=t.getHSL(),i=r.getHSL(),l=Math.abs(o[0]-i[0])>180,s=Math.lerp(o[0]+360*(l&&o[0]<i[0]),i[0+360*(l&&i[0]<o[0])],n);return new e({type:"hsl",h:s,s:Math.lerp(o[1],i[1],n),l:Math.lerp(o[2],i[2],n)})}if("hsl_flip"===o){const o=t.getHSL(),i=r.getHSL(),l=Math.abs(o[0]-i[0])>180,s=Math.lerp(o[0]+360*(!l&&o[0]<i[0]),i[0+360*(!l&&i[0]<o[0])],n);return new e({type:"hsl",h:s,s:Math.lerp(o[1],i[1],n),l:Math.lerp(o[2],i[2],n)})}if("lch"==o){let o=t.getLCH(),i=r.getLCH();return new e({type:"lch",l:Math.lerp(o[0],i[0],n),c:Math.lerp(o[1],i[1],n),h:Math.lerp(o[2],i[2],n)})}}}class n{constructor(t,r="rgb"){this.colors=[],this.positions=[],this.divElement=t,this.divInterpMode=r,this.addColorStop(0,new e({type:"rgb01",r:1,g:0,b:0})),this.addColorStop(1,new e({type:"rgb01",r:1,g:1,b:1})),this.update()}setColorStop(t,e){let r=this.positions.indexOf(t);-1==r?this.addColorStop(t,e):this.colors[r]=e,this.update()}addColorStop(t,e){this.colors.push(e),this.positions.push(t)}getColorAt(t,r=this.divInterpMode){if(0===this.colors.length)return new e(0,0,0,0);if(1===this.colors.length)return this.colors[0];let n=0;for(;n<this.positions.length&&t>this.positions[n];)n++;if(0===n)return this.colors[0];if(n===this.positions.length)return this.colors[this.colors.length-1];const o=this.positions[n-1],i=this.positions[n],l=this.colors[n-1],s=this.colors[n],a=(t-o)/(i-o);return e.lerp(l,s,a,r)}update(){let t="linear-gradient(to right";for(let e=0;e<100;e++)t+=", "+this.getColorAt(e/100).toCSS()+" "+e+"%";t+=")",this.divElement.style.backgroundImage=t}}Math.clamp=r(627);const o=r(85);window.colorConvert=o,(new class{constructor(){this.imageInput=document.getElementById("image-input"),this.hexInput=document.getElementById("hex-input"),this.rgb255Input=document.getElementById("rgb255-input"),this.rgb01Input=document.getElementById("rgb01-input"),this.hsvInput=document.getElementById("hsv-input"),this.documentBody=document.getElementById("doc-body"),this.coordinatesContainer=document.getElementById("coordinates-container"),this.imagePreviewCanvas=document.getElementById("image-preview-canvas"),this.imagePreviewOverlayCanvas=document.getElementById("image-preview-overlay-canvas"),this.imagePreviewOverlayColorInputs=document.querySelectorAll('input[name="image-preview-overlay-color"]'),this.colorBar=document.getElementById("color-bar"),this.colorGrad=document.getElementById("color-grad-1"),this.colorGrad2=document.getElementById("color-grad-2"),this.colorGradCircle=document.getElementById("color-grad-circle"),this.colorBarPointer=document.getElementById("color-bar-pointer"),this.colorBarPointer3=document.getElementById("color-bar-pointer3"),this.colorBarPointer4=document.getElementById("color-bar-pointer4"),this.colorGradHue=0,this.colorGradSaturation=0,this.colorGradValue=100,this.updateColorGrad(),this.colorInterpDiv=document.querySelector(".color-interp-div"),this.colorInterpGradients=[],this.colorInterpDiv&&(this.colorInterpLeft=document.querySelector(".color-interp-left-color"),this.colorInterpRight=document.querySelector(".color-interp-right-color"),this.colorInterpGradientRGB=new n(this.colorInterpDiv.querySelector(".color-interp-gradient-rgb"),"rgb"),this.colorInterpGradientHSL=new n(this.colorInterpDiv.querySelector(".color-interp-gradient-hsl"),"hsl"),this.colorInterpGradientHSLFlip=new n(this.colorInterpDiv.querySelector(".color-interp-gradient-hslflip"),"hsl_flip"),this.colorInterpGradientLCH=new n(this.colorInterpDiv.querySelector(".color-interp-gradient-lch"),"lch"),this.colorInterpGradients=[this.colorInterpGradientRGB,this.colorInterpGradientHSL,this.colorInterpGradientHSLFlip,this.colorInterpGradientLCH])}setColor(t,e={}){e.silent||console.log("Changing color to",t),this.rgb255Input&&!e.ignoreRGB255&&(this.rgb255Input.value=t.getRGB255().splice(0,3).toString()),this.rgb01Input&&!e.ignoreRGB01&&(this.rgb01Input.value=t.getRGB01().splice(0,3).map((t=>t.toFixed(3))).toString()),this.hexInput&&!e.ignoreHex&&(this.hexInput.value="#"+t.getHex()),this.hsvInput&&!e.ignoreHSV&&(this.hsvInput.value=t.getHSV().toString()),this.documentBody&&(this.documentBody.style.background="#"+t.getHex()),this.coordinatesContainer&&!e.keepCoordinates&&(this.coordinatesContainer.innerHTML="(0, 0)<br>(0, 0)"),(e.updateColorGrad||null==e.updateColorGrad)&&this.updateColorGrad(t,{setColor:!1}),this.colorInterpDiv&&!e.ignoreInterp&&this.updateColorInterp(t)}attachListeners(){const t=this.imageInput,r=this.hexInput,n=this.rgb255Input,o=this.rgb01Input,i=this.hsvInput,l=(this.coordinatesContainer,this.imagePreviewCanvas),s=this.imagePreviewOverlayCanvas,a=this.colorBar,h=this.colorGrad2;if(t&&t.addEventListener("change",(()=>{if(1!==t.files.length)return;let e=t.files[0],r=new FileReader,n=new Image;n.onload=function(){l&&(l.width=n.width,l.height=n.height,l.getContext("2d").drawImage(n,0,0),s&&(s.width=n.width,s.height=n.height))},r.onload=function(t){n.src=t.target.result},r.readAsDataURL(e)})),s&&(s.addEventListener("mousemove",(t=>{if(!(t.buttons&&1|t.buttons||1===t.which))return;let e=t.offsetX/s.clientWidth,r=t.offsetY/s.clientHeight,n={x:Math.clamp(Math.floor(e*s.width,0,s.width-1)),y:Math.clamp(Math.floor(r*s.height,0,s.height-1))};this.updateFromImageOverlay(n)})),s.addEventListener("click",(t=>{if(!(t.buttons&&1|t.buttons||1===t.which))return;let e=t.offsetX/s.clientWidth,r=t.offsetY/s.clientHeight,n={x:Math.clamp(Math.floor(e*s.width,0,s.width-1)),y:Math.clamp(Math.floor(r*s.height,0,s.height-1))};this.updateFromImageOverlay(n)})),this.colorInterpDiv&&(this.colorInterpLeft.addEventListener("click",(()=>{this.colorInterpLeft.classList.toggle("active"),this.colorInterpRight.classList.remove("active"),this.setColor(this.colorInterpGradientRGB.getColorAt(0),{ignoreInterp:!0})})),this.colorInterpRight.addEventListener("click",(()=>{this.colorInterpRight.classList.toggle("active"),this.colorInterpLeft.classList.remove("active"),this.setColor(this.colorInterpGradientRGB.getColorAt(1),{ignoreInterp:!0})})))),r&&r.addEventListener("input",(()=>{const t=r.value,n=/^#?([0-9a-zA-Z]{3}(?:[0-9a-zA-Z]{3})?)$/.exec(t);if(n&&2==n.length){console.log(`Found Hex: ${n[1]}`);let t=new e({type:"hex",hex:n[1]});this.setColor(t,{ignoreHex:!0})}})),n&&n.addEventListener("input",(()=>{const t=n.value.trim().replace(/\s/g,","),r=/^(\d{1,3}),+(\d{1,3}),+(\d{1,3})$/.exec(t);if(r&&4==r.length){let t=r.slice(1,4).map((t=>parseInt(t)));if(t.map((t=>0<=t&&t<=255)).reduce(((t,e)=>t&&e))){console.log(`Found RGB255: ${r.slice(1,4)}`);let n=new e({type:"rgb255",r:t[0],g:t[1],b:t[2]});this.setColor(n,{ignoreRGB255:!0})}}})),o&&o.addEventListener("input",(()=>{const t=o.value.trim().replace(/\s/g,","),r=/^([-+]?\d*\.?\d+(?:[eE][-+]?\d+)?),+([-+]?\d*\.?\d+(?:[eE][-+]?\d+)?),+([-+]?\d*\.?\d+(?:[eE][-+]?\d+)?)$/.exec(t);if(r&&4==r.length){let t=r.slice(1,4).map((t=>parseFloat(t)));if(t.map((t=>0<=t&&t<=1)).reduce(((t,e)=>t&&e))){console.log(`Found RGB01: ${t.toString()}`);let r=new e({type:"rgb01",r:t[0],g:t[1],b:t[2]});this.setColor(r,{ignoreRGB01:!0})}}})),i&&i.addEventListener("input",(()=>{const t=i.value.trim().replace(/\s/g,","),r=/^([-+]?\d*\.?\d+(?:[eE][-+]?\d+)?),+([-+]?\d*\.?\d+(?:[eE][-+]?\d+)?),+([-+]?\d*\.?\d+(?:[eE][-+]?\d+)?)$/.exec(t);if(r&&4==r.length){let t=r.slice(1,4).map((t=>parseInt(t)));console.log(`Found HSV: ${t.toString()}`);let n=new e({type:"hsv",h:Math.clamp(t[0],0,360),s:Math.clamp(t[1],0,100),v:Math.clamp(t[2],0,100)});this.setColor(n,{ignoreHSV:!0})}})),a){let t=!1;a.addEventListener("mousedown",(e=>{t=!0;const r=a.getBoundingClientRect();this.colorGradHue=360*Math.clamp((e.clientX-r.left)/a.clientWidth,0,1),this.updateColorGrad()})),a.addEventListener("mousemove",(e=>{if(t){const t=a.getBoundingClientRect();this.colorGradHue=360*Math.clamp((e.clientX-t.left)/a.clientWidth,0,1),this.updateColorGrad()}})),document.addEventListener("mouseup",(e=>{t&&(t=!1)}))}if(h){let t=!1;h.addEventListener("mousedown",(e=>{t=!0;const r=h.getBoundingClientRect();this.colorGradSaturation=100*Math.clamp((e.clientX-r.left)/h.clientWidth,0,1),this.colorGradValue=100*Math.clamp(1-(e.clientY-r.top)/h.clientHeight,0,1),this.updateColorGrad()})),h.addEventListener("mousemove",(e=>{if(t){const t=h.getBoundingClientRect();this.colorGradSaturation=100*Math.clamp((e.clientX-t.left)/h.clientWidth,0,1),this.colorGradValue=100*Math.clamp(1-(e.clientY-t.top)/h.clientHeight,0,1),this.updateColorGrad()}})),document.addEventListener("mouseup",(e=>{t&&(t=!1)}))}this.colorInterpDiv&&this.colorInterpGradients.forEach((t=>{t.divElement.addEventListener("click",(e=>{const r=e.offsetX/t.divElement.clientWidth,n=t.getColorAt(r);this.setColor(n,{ignoreInterp:!0}),this.colorInterpRight.classList.remove("active"),this.colorInterpLeft.classList.remove("active")})),t.divElement.addEventListener("mousemove",(e=>{if(1==e.buttons){const r=e.offsetX/t.divElement.clientWidth,n=t.getColorAt(r);this.setColor(n,{ignoreInterp:!0}),this.colorInterpRight.classList.remove("active"),this.colorInterpLeft.classList.remove("active")}}))}))}updateFromImageOverlay(t){const r=this.coordinatesContainer,n=this.imagePreviewCanvas,o=this.imagePreviewOverlayCanvas;if(r){const e={x:t.x/o.width,y:t.y/o.height};r.innerHTML="",r.appendChild(document.createTextNode(`(${e.x.toFixed(3)}, ${e.y.toFixed(3)})`)),r.appendChild(document.createElement("br")),r.appendChild(document.createTextNode(`(${t.x}, ${t.y})`))}const i=n.getContext("2d").getImageData(t.x,t.y,1,1);this.setColor(e.fromRGB255Array(i.data),{keepCoordinates:!0});const l=Array.from(this.imagePreviewOverlayColorInputs).filter((t=>t.checked))[0].value,s=Math.min(o.width,o.height),a=.05*s,h=o.getContext("2d");h.clearRect(0,0,o.width,o.height),h.beginPath(),h.arc(t.x,t.y,a,0,2*Math.PI),h.strokeStyle=l,h.lineWidth=.01*s,h.stroke()}updateColorGrad(t,r={}){const n=this.colorGrad;let o,i,l;if(null==t?(t=new e({type:"hsv",h:this.colorGradHue,s:this.colorGradSaturation,v:this.colorGradValue}),[o,i,l]=[this.colorGradHue,this.colorGradSaturation,this.colorGradValue]):[o,i,l]=t.getHSV(),n){const t=new e({type:"hsv",h:o,s:100,v:100}).getHex();n.style.background=`linear-gradient(to right, #FFF 0%, #${t} 100%)`}(null==r.setColor||r.setColor)&&this.setColor(t,{silent:!0,updateColorGrad:!1}),(r.updateColorGradCircle||null==r.updateColorGradCircle)&&this.updateColorGradCircle(t,l,i),(r.updateColorBarPointer||null==r.updateColorBarPointer)&&this.updateHuePointer(o)}updateColorGradCircle(t,r,n){null==t&&(t=new e({type:"hsv",h:this.colorGradHue,s:this.colorGradSaturation,v:this.colorGradValue}));const o=this.colorGrad,i=this.colorGradCircle;if(i){const e=o.clientHeight,l=o.clientWidth,s=i.clientWidth/2;i.style.top=String((1-r/100)*e-s)+"px",i.style.left=String(n/100*l-s)+"px",i.style.backgroundColor=`#${t.getHex()}`,i.style.borderColor=r<50?"white":"black"}}updateHuePointer(t){const r=this.colorBarPointer,n=this.colorBarPointer3,o=this.colorBarPointer4;if(r){const i=`#${new e({type:"hsv",h:t,s:100,v:100}).getHex()}`;r.style.left=100*t/360+"%",n.style.borderBottomColor=i,o.style.borderColor=i}}updateColorInterp(t){this.colorInterpDiv&&(this.colorInterpLeft&&this.colorInterpLeft.classList.contains("active")&&(this.colorInterpLeft.style.backgroundColor=`#${t.getHex()}`,this.colorInterpGradients.forEach((e=>e.setColorStop(0,t)))),this.colorInterpRight&&this.colorInterpRight.classList.contains("active")&&(this.colorInterpRight.style.backgroundColor=`#${t.getHex()}`,this.colorInterpGradients.forEach((e=>e.setColorStop(1,t)))))}}).attachListeners()})()})();